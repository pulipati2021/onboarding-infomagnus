name: Onboarding-workflow

on:  workflow_dispatch 
jobs:
  read-spreadsheet:
    runs-on: ubuntu-latest  
    outputs:
     my_variable: $VAR
    steps:
      - name: Checkout Code
        uses: actions/checkout@v2     
      - name: Set up Python
        uses: actions/setup-python@v2
      - name: Install Dependencies,run scripts and set variables
        run: |
              pip install --upgrade google-api-python-client google-auth-httplib2 google-auth-oauthlib
              python Read.py > myartifacts/user_data.txt 
              VAR=$(cat user_data.txt)
              echo "The variable value is $VAR"
              echo "::set-output name=my_variable::$VAR"
              mkdir myartifacts
            
              
      - name: Upload artifact
        uses: actions/upload-artifact@v2
        with:
          name: user-artifact
          path: myartifacts/**
          if-no-files-found: error
          retention-days: 90
          
          
          
           
             
