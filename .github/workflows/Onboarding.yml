name: Onboarding-workflow

on:  workflow_dispatch 
jobs:
  read-spreadsheet:
    runs-on: ubuntu-latest  
    steps:
      - name: Checkout Code
        uses: actions/checkout@v2     
      - name: Set up Python
        uses: actions/setup-python@v2
      - name: setvariables
        run: |
              pip install --upgrade google-api-python-client google-auth-httplib2 google-auth-oauthlib
              python Read.py > user_data.txt 
              VAR=$(cat user_data.txt)
              echo "The variable value is $VAR"
               echo "::set-output name=username::$VAR"
               #sleep 30
        id: setvariables   
         outputs:
          username: ${{ steps.setvariables.outputs.username }}
      - name: setvariables
        run:  echo "test" 
          
  create-repos:
     runs-on: ubuntu-latest
     needs: read-spreadsheet
     steps: 
      - name: Test 
        run : | 
              echo "The variable value is "
              echo ${{ needs.read-spreadsheet.outputs.username }}
            
       
    
          
             
