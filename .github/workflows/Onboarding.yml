name: Onboarding-workflow

on:  workflow_dispatch 
jobs:
  read-spreadsheet:
    runs-on: ubuntu-latest  
    outputs:
      uname: ${{ steps.setvariables.outputs.username }}
    steps:
       
      - name: Checkout Code
        uses: actions/checkout@v2     
      - name: Set up Python
        uses: actions/setup-python@v2
      - name: set variables
        id: setvariables   
        run: |
              pip install --upgrade google-api-python-client google-auth-httplib2 google-auth-oauthlib
              python verify_read.py > user_data.txt  
              #cat user_data.txt
              my_string=$(cat user_data.txt)
              IFS=','
              read -ra my_array <<< "$my_string"
              echo "::set-output name=username::${my_array[0]}""
              echo "${my_array[0]}"
               #sleep 30
 
